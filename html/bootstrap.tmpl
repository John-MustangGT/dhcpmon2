<!-- ===== html/bootstrap.tmpl (Updated Modern Version) ===== -->
<!doctype html>
<html lang="en" translate="no">
  <head>
    <title>{{.PageTitle}}</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome for icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

    <!-- DataTables CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/2.4.1/css/buttons.bootstrap5.min.css">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    
    <!-- DataTables JS -->
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.1/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.bootstrap5.min.js"></script>

    <style>
      :root {
        --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        --dark-bg: #1a1d29;
        --card-bg: #252936;
        --text-primary: #ffffff;
        --text-secondary: #a0a9c0;
        --border-color: #3a3f5c;
        --accent-color: #667eea;
      }

      body {
        background: var(--dark-bg);
        color: var(--text-primary);
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        min-height: 100vh;
      }

      .navbar {
        background: var(--primary-gradient) !important;
        backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      }

      .navbar-brand {
        font-weight: 700;
        font-size: 1.5rem;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      .nav-tabs {
        border-bottom: 2px solid var(--border-color);
        background: var(--card-bg);
        border-radius: 12px 12px 0 0;
        padding: 1rem 1rem 0;
        margin-bottom: 0;
      }

      .nav-tabs .nav-link {
        color: var(--text-secondary);
        border: none;
        border-radius: 8px;
        margin-right: 0.5rem;
        padding: 0.75rem 1.5rem;
        font-weight: 500;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .nav-tabs .nav-link:hover {
        background: rgba(102, 126, 234, 0.1);
        color: var(--text-primary);
        transform: translateY(-2px);
      }

      .nav-tabs .nav-link.active {
        background: var(--primary-gradient);
        color: white !important;
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
      }

      .card {
        background: var(--card-bg);
        border: 1px solid var(--border-color);
        border-radius: 16px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        backdrop-filter: blur(10px);
        overflow: hidden;
      }

      .card-header {
        background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
        border-bottom: 1px solid var(--border-color);
        padding: 1.5rem;
      }

      .table {
        color: var(--text-primary);
        margin-bottom: 0;
      }

      .table thead th {
        background: var(--primary-gradient);
        border: none;
        color: white;
        font-weight: 600;
        text-transform: uppercase;
        font-size: 0.85rem;
        letter-spacing: 0.5px;
        padding: 1rem 0.75rem;
      }

      .table tbody tr {
        border-bottom: 1px solid var(--border-color);
        transition: all 0.3s ease;
      }

      .table tbody tr:hover {
        background: rgba(102, 126, 234, 0.05);
        transform: scale(1.01);
      }

      .table td {
        border: none;
        padding: 1rem 0.75rem;
        vertical-align: middle;
      }

      .btn {
        border-radius: 8px;
        font-weight: 500;
        padding: 0.5rem 1rem;
        transition: all 0.3s ease;
        border: none;
        position: relative;
        overflow: hidden;
      }

      .btn-primary {
        background: var(--primary-gradient);
        box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
      }

      .btn-success {
        background: var(--success-gradient);
        box-shadow: 0 4px 15px rgba(79, 172, 254, 0.4);
      }

      .btn-outline-primary {
        border: 2px solid var(--accent-color);
        color: var(--accent-color);
        background: transparent;
      }

      .btn-outline-primary:hover {
        background: var(--accent-color);
        color: white;
        transform: translateY(-2px);
      }

      .badge {
        border-radius: 20px;
        padding: 0.5rem 1rem;
        font-weight: 500;
        font-size: 0.75rem;
      }

      .badge.bg-success {
        background: var(--success-gradient) !important;
      }

      .badge.bg-secondary {
        background: linear-gradient(135deg, #6c757d 0%, #495057 100%) !important;
      }

      .mac-address, .ip-address {
        font-family: 'JetBrains Mono', 'Fira Code', 'Courier New', monospace;
        font-size: 0.9rem;
        font-weight: 500;
        background: rgba(102, 126, 234, 0.1);
        padding: 0.25rem 0.5rem;
        border-radius: 6px;
        border: 1px solid rgba(102, 126, 234, 0.2);
      }

      .status-indicator {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        display: inline-block;
        margin-right: 0.5rem;
        animation: pulse 2s infinite;
      }

      .status-online {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      }

      .status-static {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      }

      .status-offline {
        background: #6c757d;
      }

      @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }

      .control-panel {
        background: var(--card-bg);
        border-radius: 12px;
        padding: 1.5rem;
        margin-bottom: 2rem;
        border: 1px solid var(--border-color);
      }

      .search-box {
        background: rgba(102, 126, 234, 0.1);
        border: 1px solid rgba(102, 126, 234, 0.3);
        border-radius: 8px;
        color: var(--text-primary);
        padding: 0.75rem 1rem;
      }

      .search-box:focus {
        background: rgba(102, 126, 234, 0.15);
        border-color: var(--accent-color);
        color: var(--text-primary);
        box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
      }

      .modal-content {
        background: var(--card-bg);
        border: 1px solid var(--border-color);
        border-radius: 16px;
      }

      .modal-header {
        border-bottom: 1px solid var(--border-color);
      }

      .form-control {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid var(--border-color);
        color: var(--text-primary);
        border-radius: 8px;
      }

      .form-control:focus {
        background: rgba(255, 255, 255, 0.08);
        border-color: var(--accent-color);
        color: var(--text-primary);
        box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
      }

      .form-label {
        color: var(--text-secondary);
        font-weight: 500;
      }

      .lease-info {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
      }

      .lease-links {
        display: flex;
        gap: 0.5rem;
        margin-top: 0.25rem;
      }

      .lease-links a {
        font-size: 0.75rem;
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        text-decoration: none;
        background: rgba(102, 126, 234, 0.2);
        color: var(--accent-color);
        transition: all 0.2s ease;
      }

      .lease-links a:hover {
        background: var(--accent-color);
        color: white;
      }

      .vendor-info {
        font-size: 0.8rem;
        color: var(--text-secondary);
        margin-top: 0.25rem;
      }

      #alerts-container {
        position: fixed;
        top: 80px;
        right: 20px;
        z-index: 1050;
        width: 350px;
      }

      .alert {
        border-radius: 12px;
        border: none;
        backdrop-filter: blur(10px);
      }

      .dataTables_wrapper .dataTables_paginate .paginate_button {
        color: var(--text-secondary) !important;
      }

      .dataTables_wrapper .dataTables_paginate .paginate_button.current {
        background: var(--primary-gradient) !important;
        border: none !important;
        color: white !important;
      }

      .dataTables_wrapper .dataTables_filter input {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid var(--border-color);
        color: var(--text-primary);
        border-radius: 8px;
      }

      .dataTables_wrapper .dataTables_info {
        color: var(--text-secondary);
      }
    </style>
    <meta name="google" content="notranslate">
  </head>
  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">
          <i class="fas fa-network-wired me-2"></i>
          DHCP Monitor
        </a>
        <div class="navbar-nav ms-auto">
          <span class="navbar-text">
            <i class="fas fa-circle text-success me-1"></i>
            Online
          </span>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main role="main" class="container-fluid" style="margin-top: 80px; padding: 2rem;">
      
      <!-- Tabs -->
      <ul class="nav nav-tabs" id="mainTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <a class="nav-link active" href="?p=Leases" data-page="Leases">
            <i class="fas fa-laptop me-2"></i>DHCP Leases
          </a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" href="?p=Hosts" data-page="Hosts">
            <i class="fas fa-address-book me-2"></i>Hosts
          </a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" href="?p=Logs" data-page="Logs">
            <i class="fas fa-file-alt me-2"></i>Logs
          </a>
        </li>
      </ul>

      <!-- Tab Content -->
      <div class="tab-content">
        <div class="tab-pane fade show active">
          {{.PageBody}}
        </div>
      </div>
    </main>

    <!-- Alerts Container -->
    <div id="alerts-container"></div>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // Set active tab based on current page
      $(document).ready(function() {
        const currentPage = new URLSearchParams(window.location.search).get('p') || 'Leases';
        $('.nav-link').removeClass('active');
        $(`.nav-link[data-page="${currentPage}"]`).addClass('active');
      });

      // Global function to show alerts
      function showAlert(type, message) {
        const alertHtml = `
          <div class="alert alert-${type} alert-dismissible fade show" role="alert">
            <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'danger' ? 'exclamation-triangle' : 'info-circle'} me-2"></i>
            ${message}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
          </div>
        `;
        
        $('#alerts-container').append(alertHtml);
        
        // Auto-hide after 5 seconds
        setTimeout(function() {
          $('#alerts-container .alert:first').fadeOut(function() {
            $(this).remove();
          });
        }, 5000);
      }

      // Format MAC address consistently
      function formatMacAddress(mac) {
        if (!mac) return '-';
        
        // Convert to uppercase and ensure consistent format
        const cleanMac = mac.toUpperCase().replace(/[:-]/g, '');
        
        // Format as AA:BB:CC:DD:EE:FF (or return original if invalid)
        if (cleanMac.length === 12) {
          const formatted = cleanMac.match(/.{2}/g).join(':');
          return `<span class="mac-address">${formatted}</span>`;
        }
        
        return `<span class="mac-address">${mac}</span>`;
      }
    </script>
  </body>
</html>

<!-- vim: noai:ts=2:sw=2:set expandtab: -->